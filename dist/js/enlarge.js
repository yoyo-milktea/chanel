"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}function getStyle(e,t){return window.getComputedStyle?window.getComputedStyle(e)[t]:e.currentStyle[t]}var Enlarge=function(){function t(e){_classCallCheck(this,t),this.ele=document.querySelector(e),this.init()}return _createClass(t,[{key:"init",value:function(){var e=this;this.show=this.ele.querySelector(".show"),this.mask=this.ele.querySelector(".mask"),this.enlarge=this.ele.querySelector(".enlarge"),this.show.onmouseover=function(){e.mask.style.display=e.enlarge.style.display="block",e.setStyle(),e.move()},this.show.onmouseout=function(){e.mask.style.display=e.enlarge.style.display="none"}}},{key:"setStyle",value:function(){this.maskWidth=this.mask.offsetWidth,this.maskHeight=this.mask.offsetHeight,this.bgx=parseInt(getStyle(this.enlarge,"background-size").split(" ")[0]),this.bgy=parseInt(getStyle(this.enlarge,"background-size").split(" ")[1]),this.showWidth=this.show.offsetWidth,this.showHeight=this.show.offsetHeight;var e=this.maskWidth*this.bgx/this.showWidth,t=this.maskHeight*this.bgy/this.showHeight;this.enlarge.style.width=e+"px",this.enlarge.style.height=t+"px"}},{key:"move",value:function(){var o=this;this.show.onmousemove=function(e){var t=e.clientX-o.ele.offsetLeft-o.maskWidth/2,s=e.clientY-o.ele.offsetTop-o.maskHeight/2;t<=0&&(t=0),t>=o.showWidth-o.maskWidth&&(t=o.showWidth-o.maskWidth),s<=0&&(s=0),s>=o.showHeight-o.maskHeight&&(s=o.showHeight-o.maskHeight),o.mask.style.left=t+"px",o.mask.style.top=s+"px";var i=o.bgx*t/o.showWidth,h=o.bgy*s/o.showHeight;o.enlarge.style.backgroundPosition="-".concat(i,"px -").concat(h,"px")}}}]),t}();